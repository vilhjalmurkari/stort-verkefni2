{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["const main = document.querySelector('main');\r\n\r\n\r\nfunction birtaError() {\r\n  const errordiv = document.createElement('div');\r\n  const p = document.createElement('p');\r\n  errordiv.appendChild(p);\r\n  errordiv.setAttribute('class', 'error');\r\n  p.appendChild(document.createTextNode('Gat ekki hlaðið gögnum'));\r\n\r\n  main.appendChild(errordiv);\r\n}\r\n\r\nfunction breytaDuration(timi) {\r\n  const min = Math.floor(timi / 60);\r\n  let sek = timi - (min * 60);\r\n\r\n  if (sek === 0) {\r\n    sek = '00';\r\n  } else if (sek < 10) {\r\n    sek = `0${sek}`;\r\n  }\r\n\r\n  return `${min}:${sek}`;\r\n}\r\n\r\nfunction timiSidan(timi) {\r\n  let s = 'Fyrir ';\r\n\r\n  let aldurIsek = ((new Date()) - timi) / 1000;\r\n  const years = Math.floor(aldurIsek / (60 * 60 * 24 * 365));\r\n\r\n  aldurIsek -= (years * 60 * 60 * 24 * 365);\r\n  const months = Math.floor(aldurIsek / (60 * 60 * 24 * 30));\r\n\r\n  aldurIsek -= (months * 60 * 60 * 24 * 30);\r\n  const weeks = Math.floor(aldurIsek / (60 * 60 * 24 * 7));\r\n\r\n  aldurIsek -= (weeks * 60 * 60 * 24 * 7);\r\n  const days = Math.floor(aldurIsek / (60 * 60 * 24));\r\n\r\n  aldurIsek -= (days * 60 * 60 * 24);\r\n  const hours = Math.floor(aldurIsek / (60 * 60));\r\n\r\n  if (years > 0) {\r\n    if (years === 1) {\r\n      s = `${s}, ${years}, ári síðan`;\r\n    } else {\r\n      s = `${s}, ${years}, árum síðan`;\r\n    }\r\n  } else if (months > 0) {\r\n    if (months === 1) {\r\n      s = `${s} ${months} mánuði síðan`;\r\n    } else {\r\n      s = `${s} ${months} mánuðum síðan`;\r\n    }\r\n  } else if (weeks > 0) {\r\n    if (weeks === 1) {\r\n      s = `${s} ${weeks} viku síðan`;\r\n    } else {\r\n      s = `${s} ${weeks} vikum síðan`;\r\n    }\r\n  } else if (days > 0) {\r\n    if (days === 1) {\r\n      s = `${s} ${days} degi síðan`;\r\n    } else {\r\n      s = `${s} ${days} dögum síðan`;\r\n    }\r\n  } else if (hours > 0) {\r\n    if (hours === 1) {\r\n      s = `${s} ${hours} klukkutíma síðan`;\r\n    } else {\r\n      s = `${s} ${hours} klukkutímum síðan`;\r\n    }\r\n  } else {\r\n    s = 'Myndband ekki birt strax';\r\n  }\r\n  return s;\r\n}\r\n\r\nfunction makeVideoColumn(data, element) {\r\n  // Dálkurinn sem inniheldur allt um myndbandið\r\n  const column = document.createElement('div');\r\n  column.setAttribute('class', 'videolist__col');\r\n\r\n  // Myndin\r\n  const poster = document.createElement('div');\r\n  poster.setAttribute('class', 'videolist__poster');\r\n  const mynd = document.createElement('img');\r\n  mynd.setAttribute('src', data.poster);\r\n  poster.appendChild(mynd);\r\n\r\n  // Overlay-ið á myndinni\r\n  const overlay = document.createElement('div');\r\n  overlay.setAttribute('class', 'videolist__overlay');\r\n  const over = document.createElement('span');\r\n  over.setAttribute('class', 'videolist__over');\r\n  over.appendChild(document.createTextNode(breytaDuration(data.duration)));\r\n  overlay.appendChild(over);\r\n  poster.appendChild(overlay);\r\n\r\n  // Div fyrir textann sem er fyrir neðan myndina\r\n  const texti = document.createElement('div');\r\n  texti.setAttribute('class', 'videolist__content');\r\n  column.appendChild(poster);\r\n  column.appendChild(texti);\r\n\r\n  // Textarnir fyrir neðan myndina\r\n  const titill = document.createElement('p');\r\n  titill.setAttribute('class', 'videolist__title');\r\n  const date = document.createElement('p');\r\n  date.setAttribute('class', 'videolist__date-created');\r\n  texti.appendChild(titill);\r\n  texti.appendChild(date);\r\n\r\n  titill.appendChild(document.createTextNode(data.title));\r\n  date.appendChild(document.createTextNode(timiSidan(data.created)));\r\n\r\n  element.appendChild(column);\r\n}\r\n\r\nfunction makeVideoList(data) {\r\n  for (let i = 0; i < data.categories.length; i += 1) {\r\n    const section = document.createElement('section');\r\n    section.setAttribute('class', 'safn');\r\n\r\n    const list = document.createElement('div');\r\n    list.setAttribute('class', 'videolist__row');\r\n\r\n    const heading = document.createElement('h1');\r\n    heading.appendChild(document.createTextNode(data.categories[i].title));\r\n    section.appendChild(heading);\r\n    section.appendChild(list);\r\n\r\n    for (let j = 0; j < data.categories[i].videos.length; j += 1) {\r\n      // Fá hvaða tölur eru í fylkinu af myndunum\r\n      const mynd = data.categories[i].videos[j];\r\n      makeVideoColumn(data.videos[mynd - 1], list);\r\n    }\r\n    const pagebreak = document.createElement('div');\r\n    pagebreak.setAttribute('class', 'videolist__break');\r\n    section.appendChild(pagebreak);\r\n\r\n    main.appendChild(section);\r\n  }\r\n}\r\n\r\nfunction loadMovies() {\r\n  const request = new XMLHttpRequest();\r\n  request.open('GET', 'videos.json', true);\r\n\r\n  request.onload = () => {\r\n    let data;\r\n\r\n    if (request.status >= 200 && request.status < 400) {\r\n      data = JSON.parse(request.response);\r\n\r\n      // makeVideoColumn(data.videos[1], main);\r\n      makeVideoList(data);\r\n    }\r\n  };\r\n\r\n  request.onerror = () => {\r\n    birtaError();\r\n  };\r\n  request.send();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  loadMovies();\r\n});\r\n"]}